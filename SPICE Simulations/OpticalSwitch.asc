Version 4
SHEET 1 968 680
WIRE -144 0 -272 0
WIRE 32 0 -144 0
WIRE 160 0 32 0
WIRE 224 0 160 0
WIRE 464 0 224 0
WIRE 624 0 576 0
WIRE 720 0 624 0
WIRE 800 0 720 0
WIRE 800 16 800 0
WIRE 400 48 352 48
WIRE 512 96 464 96
WIRE 576 96 576 0
WIRE 576 96 512 96
WIRE 720 96 720 0
WIRE -272 112 -272 0
WIRE 160 112 160 0
WIRE 688 112 592 112
WIRE 32 128 32 80
WIRE 96 128 32 128
WIRE 128 128 96 128
WIRE 800 128 800 96
WIRE 800 128 752 128
WIRE 896 128 800 128
WIRE 224 144 224 80
WIRE 224 144 192 144
WIRE 272 144 224 144
WIRE 352 144 352 128
WIRE 352 144 272 144
WIRE 624 144 624 80
WIRE 656 144 624 144
WIRE 688 144 656 144
WIRE -144 160 -144 80
WIRE -16 160 -144 160
WIRE 128 160 -16 160
WIRE 512 192 512 176
WIRE 512 192 416 192
WIRE 576 192 512 192
WIRE 592 192 592 112
WIRE 592 192 576 192
WIRE -144 240 -144 160
WIRE 32 240 32 128
WIRE 416 240 416 192
WIRE 624 240 624 144
WIRE 512 256 512 192
WIRE -272 320 -272 192
WIRE -144 320 -272 320
WIRE 32 320 -144 320
WIRE 160 320 160 176
WIRE 160 320 32 320
WIRE 192 320 192 160
WIRE 192 320 160 320
WIRE 416 320 192 320
WIRE 512 320 416 320
WIRE 624 320 512 320
WIRE 720 320 720 160
WIRE 720 320 624 320
WIRE 752 320 752 144
WIRE 752 320 720 320
FLAG 96 128 Vref
FLAG -16 160 Vrx
FLAG 272 144 Vtrigger
FLAG 160 320 0
FLAG 896 128 Vout
FLAG 656 144 Vref2
FLAG 576 192 Vtiming
SYMBOL voltage -272 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL current -144 240 R0
WINDOW 3 -190 114 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value PULSE(100e-9 12e-3 1e-3 1e-3 1e-3 15e-3 1 1)
SYMBOL res -160 -16 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 16 -16 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 16 224 R0
SYMATTR InstName R3
SYMATTR Value 6.8k
SYMBOL res 208 -16 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL pnp 400 96 M180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL res 336 32 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 608 -16 R0
SYMATTR InstName R6
SYMATTR Value 20k
SYMBOL res 608 224 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 496 80 R0
SYMATTR InstName R8
SYMATTR Value 22k
SYMBOL cap 496 256 R0
SYMATTR InstName C1
SYMATTR Value 1e-6
SYMBOL res 784 0 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL Opamps\\6pinComparator -720 -272 R0
SYMATTR InstName U1
SYMATTR Value LM311
SYMBOL Opamps\\opamp2 160 80 R0
SYMATTR InstName U2
SYMATTR Value LM393
SYMBOL Opamps\\opamp2 720 64 R0
SYMATTR InstName U3
SYMATTR Value LM393
SYMBOL res 400 224 R0
SYMATTR InstName R10
SYMATTR Value 50k
TEXT -248 -184 Left 2 !.lib mylib\\OPAMP\\LM311.lib
TEXT -248 -154 Left 2 !.tran 20e-3
TEXT -248 -208 Left 2 !.lib mylib\\OPAMP\\LM393.lib
