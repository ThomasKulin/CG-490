Version 4
SHEET 1 1080 680
WIRE -144 -64 -272 -64
WIRE 32 -64 -144 -64
WIRE 160 -64 32 -64
WIRE 224 -64 160 -64
WIRE 464 -64 224 -64
WIRE 608 -64 464 -64
WIRE 832 -64 608 -64
WIRE 912 -64 832 -64
WIRE -144 0 -144 -64
WIRE 32 0 32 -64
WIRE 224 0 224 -64
WIRE 464 0 464 -64
WIRE 912 16 912 -64
WIRE 400 48 352 48
WIRE 512 96 464 96
WIRE 656 96 656 64
WIRE 656 96 512 96
WIRE 832 96 832 -64
WIRE -272 112 -272 -64
WIRE 160 112 160 -64
WIRE 800 112 704 112
WIRE 128 128 -16 128
WIRE 912 128 912 96
WIRE 912 128 864 128
WIRE 1008 128 912 128
WIRE 224 144 224 80
WIRE 224 144 192 144
WIRE 272 144 224 144
WIRE 352 144 352 128
WIRE 352 144 272 144
WIRE 736 144 736 64
WIRE 768 144 736 144
WIRE 800 144 768 144
WIRE -144 160 -144 80
WIRE -16 160 -16 128
WIRE -16 160 -144 160
WIRE 32 160 32 80
WIRE 96 160 32 160
WIRE 128 160 96 160
WIRE 512 192 512 176
WIRE 512 192 416 192
WIRE 608 192 608 16
WIRE 608 192 512 192
WIRE 688 192 608 192
WIRE 704 192 704 112
WIRE 704 192 688 192
WIRE -144 240 -144 160
WIRE 32 240 32 160
WIRE 416 240 416 192
WIRE 736 240 736 144
WIRE 512 256 512 192
WIRE -272 320 -272 192
WIRE -144 320 -272 320
WIRE 32 320 -144 320
WIRE 160 320 160 176
WIRE 160 320 32 320
WIRE 416 320 160 320
WIRE 512 320 416 320
WIRE 736 320 512 320
WIRE 832 320 832 160
WIRE 832 320 736 320
FLAG -16 160 Vrx
FLAG 272 144 Vtrigger
FLAG 160 320 0
FLAG 1008 128 Vout
FLAG 768 144 Vref2
FLAG 688 192 Vtiming
FLAG 96 160 Vref
SYMBOL voltage -272 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL current -144 240 R0
WINDOW 3 -190 114 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(10e-3 100e-9 1e-3 1e-3 1e-3 15e-3 0.1 2)
SYMATTR InstName I1
SYMBOL res -160 -16 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 16 -16 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 16 224 R0
SYMATTR InstName R3
SYMATTR Value 6.8k
SYMBOL res 208 -16 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL pnp 400 96 M180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL res 336 32 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 640 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 1.5k
SYMBOL res 720 224 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 496 80 R0
SYMATTR InstName R8
SYMATTR Value 2.2k
SYMBOL cap 496 256 R0
SYMATTR InstName C1
SYMATTR Value 1e-5
SYMBOL res 896 0 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 160 80 R0
SYMATTR InstName U2
SYMATTR Value LM393
SYMBOL Opamps\\opamp2 832 64 R0
SYMATTR InstName U3
SYMATTR Value LM393
SYMBOL res 400 224 R0
SYMATTR InstName R10
SYMATTR Value 5k
SYMBOL res 592 -80 R0
SYMATTR InstName R11
SYMATTR Value 100k
TEXT -248 -184 Left 2 !.lib mylib\\OPAMP\\LM311.lib
TEXT -248 -152 Left 2 !.tran 20e-3
TEXT -248 -208 Left 2 !.lib mylib\\OPAMP\\LM393.lib
TEXT -112 280 Left 1 ;phototransistor
